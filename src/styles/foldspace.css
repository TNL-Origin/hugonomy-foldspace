/**
 * VibeAI FoldSpace - React Component Styles
 * Version: V.10.2 "Resonance Mode"
 *
 * Global styles for the FoldSpace Tone Field and future React components
 */

.vibeai-root {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 999999;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
}

/* HUD container should allow interaction and sit above page layers */
#vibeai-hud-container {
  pointer-events: auto !important;
  position: fixed;
  right: 20px;
  bottom: 20px;
  z-index: 2147483647 !important;
}

.hud-panel { pointer-events: auto; }

/* === Phase VII.9.8.4 â€” Event Propagation hardening === */

/* The root HUD container inside the iframe */
#vibeai-hud {
  pointer-events: auto !important;
  position: relative;
  z-index: 2147483646; /* under the iframe element itself */
}

/* Controls row wrapper (footer) */
.vibeai-controls,
.controls-compact,
#vibeai-controls-wrapper {
  pointer-events: auto !important;
  position: relative;
  z-index: 2147483647;
  display: flex;
  gap: 8px;
  align-items: center;
}

/* Make buttons clearly interactive */
.vibeai-controls button,
.controls-compact button,
#vibeai-controls-wrapper button {
  cursor: pointer !important;
  pointer-events: auto !important;
}

/* Reporter items need to be clickable too */
.reporter-box ol li,
.chapter-list li {
  cursor: pointer !important;
  pointer-events: auto !important;
}

/* Ensure tone field respects pointer-events */
.vibeai-root * {
  pointer-events: auto;
}

.vibeai-root [aria-hidden="true"] {
  pointer-events: none;
}

/* Performance optimizations */
.vibeai-root {
  will-change: transform;
  transform: translateZ(0);
}

/* Accessibility */
.vibeai-root [data-tone-key] {
  transition: background-image 1.2s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Debug mode (enable via console) */
.vibeai-debug .vibeai-root::after {
  content: attr(data-avg-tone);
  position: fixed;
  top: 10px;
  right: 10px;
  padding: 8px 12px;
  background: rgba(0, 0, 0, 0.8);
  color: white;
  font-size: 12px;
  border-radius: 4px;
  pointer-events: none;
  z-index: 10000000;
}

/* Compact HUD controls and reporter box styling (Phase VII.9.4) */
.hud-content {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

/* Ensure HUD iframe content can receive pointer events when visible */
#vibeai-hud-frame {
  pointer-events: auto !important;
}

.controls-row {
  display: flex;
  gap: 8px;
  align-items: center;
  justify-content: flex-start;
  font-size: 0.8rem;
}

/* Force a single-row compact layout when used */
.controls-row.horizontal {
  flex-direction: row;
  flex-wrap: nowrap;
  align-items: center;
  justify-content: flex-start;
}

.controls-row button {
  background: rgba(255,255,255,0.06);
  border: 1px solid rgba(255,255,255,0.06);
  color: #fff;
  padding: 6px 8px;
  border-radius: 6px;
  cursor: pointer;
  transition: transform 160ms ease, background 160ms ease;
}

.controls-row button:hover {
  transform: scale(1.05);
  background: rgba(255,255,255,0.09);
}

.chapter-list {
  max-height: 280px; /* increased to allow more chapters */
  overflow-y: auto;
  padding: 6px;
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.chapter-entry {
  padding: 6px 8px;
  background: rgba(255,255,255,0.03);
  border-radius: 6px;
  color: #eaeaea;
  font-size: 0.9rem;
}

.chapter-empty {
  color: #9aa0a6;
  font-size: 0.9rem;
}

/* Reporter styling */
.reporter {
  background: linear-gradient(180deg, rgba(0,0,0,0.55), rgba(0,0,0,0.35));
  padding: 8px;
  border-radius: 8px;
  box-shadow: 0 6px 18px rgba(0,0,0,0.45);
}
